<!doctype html><html lang=en><head><link rel=dns-prefetch href=https://fonts.googleapis.com><link rel=dns-prefetch href=https://use.fontawesome.com><link rel=dns-prefetch href=https://fonts.gstatic.com><link rel=dns-prefetch href=https://cdnjs.cloudflare.com><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blakeniemyjski.com\/"},"articleSection":"blog","name":"How-to: Use Microsoft SQL Server CLR Functions and Functions in your CodeSmith Generator Templates","headline":"How-to: Use Microsoft SQL Server CLR Functions and Functions in your CodeSmith Generator Templates","description":"In a previousarticle, I had mentioned that we added support for Microsoft SQL Server CLR Stored procedures and Functionsin the release of CodeSmith Generator 5.2. Since then there has been a few questions since then on how to add this to your existing templates. The great news is, you can add the functionality in a few easy changes.\nTo enable SQL function support you need to set IncludeFunctions=\x26quot;True\x26quot; on any types inheriting from SchemaObjectBase (E.","inLanguage":"en","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"25250","datePublished":"2010-01-25 21:44:00 -0600 -0600","dateModified":"2010-01-25 21:44:00 -0600 -0600","url":"https:\/\/blakeniemyjski.com\/blog\/how-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates\/","wordCount":"282","keywords":["Code Generation","Blog"]}</script><title>How-to: Use Microsoft SQL Server CLR Functions and Functions in your CodeSmith Generator Templates</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.67.0"><meta name=description content="Blake Niemyjski"><meta name=twitter:card content="summary"><meta name=twitter:title content="How-to: Use Microsoft SQL Server CLR Functions and Functions in your CodeSmith Generator Templates"><meta name=twitter:description content="In a previousarticle, I had mentioned that we added support for Microsoft SQL Server CLR Stored procedures and Functionsin the release of CodeSmith Generator 5.2. Since then there has been a few questions since then on how to add this to your existing templates. The great news is, you can add the functionality in a few easy changes.
To enable SQL function support you need to set IncludeFunctions=&#34;True&#34; on any types inheriting from SchemaObjectBase (E."><meta name=twitter:site content="@blaken"><meta property="og:title" content="How-to: Use Microsoft SQL Server CLR Functions and Functions in your CodeSmith Generator Templates"><meta property="og:description" content="In a previousarticle, I had mentioned that we added support for Microsoft SQL Server CLR Stored procedures and Functionsin the release of CodeSmith Generator 5.2. Since then there has been a few questions since then on how to add this to your existing templates. The great news is, you can add the functionality in a few easy changes.
To enable SQL function support you need to set IncludeFunctions=&#34;True&#34; on any types inheriting from SchemaObjectBase (E."><meta property="og:type" content="article"><meta property="og:url" content="https://blakeniemyjski.com/blog/how-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates/"><meta property="article:published_time" content="2010-01-25T21:44:00-06:00"><meta property="article:modified_time" content="2010-01-25T21:44:00-06:00"><meta property="og:image" content="https://blakeniemyjski.com//images/logo.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="512"><meta property="og:image:height" content="512"><meta itemprop=name content="How-to: Use Microsoft SQL Server CLR Functions and Functions in your CodeSmith Generator Templates"><meta itemprop=description content="In a previousarticle, I had mentioned that we added support for Microsoft SQL Server CLR Stored procedures and Functionsin the release of CodeSmith Generator 5.2. Since then there has been a few questions since then on how to add this to your existing templates. The great news is, you can add the functionality in a few easy changes.
To enable SQL function support you need to set IncludeFunctions=&#34;True&#34; on any types inheriting from SchemaObjectBase (E."><meta itemprop=datePublished content="2010-01-25T21:44:00-06:00"><meta itemprop=dateModified content="2010-01-25T21:44:00-06:00"><meta itemprop=wordCount content="282"><meta itemprop=keywords content="Code Generation,"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700&display=swap"><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/all.css><link rel=stylesheet href=https://blakeniemyjski.com/css/main.css><link href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/vs.min.css rel=stylesheet type=text/css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-3422587-1','auto');ga('send','pageview');}</script></head><body><div id=wrapper><header id=header><h1><a href=https://blakeniemyjski.com/>blog</a></h1><nav class=links><ul><li><a href=https://blakeniemyjski.com/><i class="fas fa-home"></i>&nbsp;Home</a></li><li><a href=https://blakeniemyjski.com/categories/home-automation/><i class="fas fa-magic"></i>&nbsp;Home Automation</a></li><li><a href=https://blakeniemyjski.com/categories/programming/><i class="fas fa-code"></i>&nbsp;Programming</a></li><li><a href=https://blakeniemyjski.com/categories/review/><i class="fas fa-book"></i>&nbsp;Reviews</a></li><li><a href=https://blakeniemyjski.com/categories/public-speaking/><i class="fas fa-comments"></i>&nbsp;Public Speaking</a></li><li><a href=https://blakeniemyjski.com/about/><i class="fas fa-id-card"></i>&nbsp;About</a></li></ul></nav><nav class=main><ul><li id=share-nav class=share-menu style=display:none><a class=fa-share-alt href=#share-menu>Share</a></li><li class=search><a class=fa-search href=#search>Search</a><form id=search method=get action=//google.com/search><input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=https://blakeniemyjski.com/></form></li><li class=menu><a class=fa-bars href=#menu>Menu</a></li></ul></nav></header><section id=menu><section><form class=search method=get action=//google.com/search><input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=https://blakeniemyjski.com/></form></section><section><ul class=links><li><a href=https://blakeniemyjski.com/><h3><i class="fas fa-home"></i>&nbsp;Home</h3></a></li><li><a href=https://blakeniemyjski.com/categories/home-automation/><h3><i class="fas fa-magic"></i>&nbsp;Home Automation</h3></a></li><li><a href=https://blakeniemyjski.com/categories/programming/><h3><i class="fas fa-code"></i>&nbsp;Programming</h3></a></li><li><a href=https://blakeniemyjski.com/categories/review/><h3><i class="fas fa-book"></i>&nbsp;Reviews</h3></a></li><li><a href=https://blakeniemyjski.com/categories/public-speaking/><h3><i class="fas fa-comments"></i>&nbsp;Public Speaking</h3></a></li><li><a href=https://blakeniemyjski.com/about/><h3><i class="fas fa-id-card"></i>&nbsp;About</h3></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Recent Posts</h3></header><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/installing-home-assistant-on-ubuntu/>Installing Home Assistant on Ubuntu</a></h3><time class=published datetime=2020-03-09>March 9, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/upgrading-home-assistant-hardware-in-2020/>Upgrading Home Assistant hardware in 2020</a></h3><time class=published datetime=2020-03-03>March 3, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/thinking-about-smart-home-power-usage/>Thinking about smart home power usage</a></h3><time class=published datetime=2020-02-13>February 13, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/hello-home-automation-how-to-detect-battery-levels-with-node-red/>Hello Home Automation, How to detect battery levels with Node-RED</a></h3><time class=published datetime=2020-02-03>February 3, 2020</time></header></article><a href=/categories/ class=button>View more posts</a></div></section></section><section id=share-menu><section id=social-share-nav><ul class=links><header><h3>Share this post <i class="fas fa-smile"></i></h3></header><li><a href="//twitter.com/share?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates%2f&text=How-to%3a%20Use%20Microsoft%20SQL%20Server%20CLR%20Functions%20and%20Functions%20in%20your%20CodeSmith%20Generator%20Templates&via=blaken" target=_blank rel=noopener class="share-btn twitter"><i class="fab fa-twitter"></i><p>Twitter</p></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates%2f" target=_blank rel=noopener class="share-btn facebook"><i class="fab fa-facebook"></i><p>Facebook</p></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates%2f&title=How-to%3a%20Use%20Microsoft%20SQL%20Server%20CLR%20Functions%20and%20Functions%20in%20your%20CodeSmith%20Generator%20Templates" target=_blank rel=noopener class="share-btn reddit"><i class="fab fa-reddit-alien"></i><p>Reddit</p></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates%2f&title=How-to%3a%20Use%20Microsoft%20SQL%20Server%20CLR%20Functions%20and%20Functions%20in%20your%20CodeSmith%20Generator%20Templates" target=_blank rel=noopener class="share-btn linkedin"><i class="fab fa-linkedin"></i><p>LinkedIn</p></a></li><li><a href="mailto:?subject=Check out this post by &body=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates%2f" target=_blank rel=noopener class="share-btn email"><i class="fas fa-envelope"></i><p>Email</p></a></li></ul></section></section><div id=main><article class=post><header><div class=title><h1><a href=https://blakeniemyjski.com/blog/how-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates/>How-to: Use Microsoft SQL Server CLR Functions and Functions in your CodeSmith Generator Templates</a></h1></div><div class=meta><time class=published datetime=2010-01-25>January 25, 2010</time>
<span class=author></span><p>2 minute read</p></div></header><section id=social-share><ul class=icons><li><a href="//twitter.com/share?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates%2f&text=How-to%3a%20Use%20Microsoft%20SQL%20Server%20CLR%20Functions%20and%20Functions%20in%20your%20CodeSmith%20Generator%20Templates&via=blaken" target=_blank rel=noopener class="share-btn twitter"><i class="fab fa-twitter"></i><p>Twitter</p></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates%2f" target=_blank rel=noopener class="share-btn facebook"><i class="fab fa-facebook"></i><p>Facebook</p></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates%2f&title=How-to%3a%20Use%20Microsoft%20SQL%20Server%20CLR%20Functions%20and%20Functions%20in%20your%20CodeSmith%20Generator%20Templates" target=_blank rel=noopener class="share-btn reddit"><i class="fab fa-reddit-alien"></i><p>Reddit</p></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates%2f&title=How-to%3a%20Use%20Microsoft%20SQL%20Server%20CLR%20Functions%20and%20Functions%20in%20your%20CodeSmith%20Generator%20Templates" target=_blank rel=noopener class="share-btn linkedin"><i class="fab fa-linkedin"></i><p>LinkedIn</p></a></li><li><a href="mailto:?subject=Check out this post by &body=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates%2f" target=_blank rel=noopener class="share-btn email"><i class="fas fa-envelope"></i><p>Email</p></a></li></ul></section><div id=content><p>In a previous<a href=https://www.codesmithtools.com/product/generator>article</a>,
I had mentioned that we added support for <a href=https://msdn.microsoft.com/en-us/library/ms131094.aspx>Microsoft SQL Server CLR Stored procedures</a>
and <a href=https://msdn.microsoft.com/en-us/library/ms186755.aspx>Functions</a>in the
release of <a href=https://www.codesmithtools.com/product/generator>CodeSmith Generator 5.2</a>.
Since then there has been a few questions since then on how to add this to your
existing templates. The great news is, you can add the functionality in a few
easy changes.</p><p><img src=https://blakeniemyjski.com/img/blog/generator-extended-property-editor-dbo-aspnet-check-schema-version.png alt="Extended Property Editor"></p><p>To enable SQL function support you need to set <code>IncludeFunctions="True"</code> on any
types inheriting from SchemaObjectBase (E.G. CommandSchema,
CommandSchemaCollection, DatabaseSchema&mldr;).</p><p><img src=https://blakeniemyjski.com/img/blog/generator-include-functions-attribute.png alt="IncludeFunctions Attribute"></p><p>Once this has been done you will see SQL functions be added to your User Interface
Command pickers as well as show up in the API like DatabaseSchema.Commands.</p><h2 id=how-do-i-check-to-see-what-type-of-sql-function-it-a-command-is>How do I check to see what type of SQL Function it a command is?</h2><ol><li><em>CS_IsCLR</em>: Returns true if the command is a <a href=https://msdn.microsoft.com/en-us/library/ms190790.aspx>CLR Procedure</a>.</li><li><em>CS_IsScalarFunction</em>: Returns true if the command is a <a href=https://msdn.microsoft.com/en-us/library/ms174318.aspx>Scalar Function</a>.</li><li><em>CS_IsTableValuedFunction</em>: Returns true if the command is a <a href=https://technet.microsoft.com/en-us/library/ms191165.aspx>Table-Valued Function</a>.</li><li><em>CS_IsInlineTableValuedFunction</em>: Returns true if the command is a <a href=https://technet.microsoft.com/en-us/library/ms189294.aspx>Inline Table-Valued Function</a>.</li><li><em>CS_IsMultiStatementTableValuedFunction</em>: Returns true if the command is a <a href=https://www.sqlteam.com/article/intro-to-user-defined-functions-updated>Multi-Statement Table-Valued Function</a>.</li></ol><p>It is also easy to take different actions in your template logic based on the type of function.</p><pre><code class=language-codesmith data-lang=codesmith>&lt;% if(!IsTableValuedFunction) { %&gt;
  cmd.CommandText = &quot;[&lt;%= SourceCommand.Owner %&gt;].[&lt;%= SourceCommand.Name %&gt;]&quot;;
  cmd.CommandType = CommandType.StoredProcedure;
&lt;% } else {%&gt;
  cmd.CommandText = &quot;SELECT * FROM [&lt;%= SourceCommand.Owner %&gt;].[&lt;%= SourceCommand.Name %&gt;](&lt;%=BuildArgumentList()%&gt;)&quot;;
  cmd.CommandType = CommandType.Text;
&lt;%}%&gt;

public bool IsTableValuedFunction
{
  get
  {
    if (SourceCommand == null || !SourceCommand.ExtendedProperties.Contains(&quot;CS_IsTableValuedFunction&quot;))
      return false;
    bool temp;
    bool.TryParse(SourceCommand.ExtendedProperties[&quot;CS_IsTableValuedFunction&quot;].Value.ToString(), out temp);
    return temp;
  }
}
&lt;%}%&gt;
</code></pre><p><em>What templates can I observe these changes in?</em></p><p>We have completely updated the Command wrapper templates to fully support SQL Functions. Please download the latest build of CodeSmith Generator 5.2 and give them a try.</p></div><footer><ul class=stats><li class=categories><ul><i class="fas fa-folder"></i><li><a class=article-category-link href=https://blakeniemyjski.com/categories/programming>Programming</a></li></ul></li><li class=tags><ul><i class="fas fa-tags"></i><li><a class=article-category-link href=https://blakeniemyjski.com/tags/code-generation>Code Generation</a></li></ul></li></ul></footer></article><article class=post><div class=disqus></div><script>(function(){var disqus_shortname='niemyjski';window.disqusLoaderSettings={element:'.disqus',options:{scriptUrl:'//'+disqus_shortname+'.disqus.com/embed.js',disqusConfig:function(){this.page.url="https:\/\/blakeniemyjski.com\/blog\/how-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates\/";this.page.identifier="https:\/\/blakeniemyjski.com\/blog\/how-to-use-microsoft-sql-server-clr-functions-and-functions-in-your-codesmith-generator-templates\/";}}};})();</script></article><ul class="actions pagination"><li><a href=https://blakeniemyjski.com/blog/how-to-use-microsoft-sql-server-functions-in-your-codesmith-generator-templates/ class="button big previous">How-to: Use Microsoft SQL Server Functions in your CodeSmith Generator Templates</a></li><li><a href=https://blakeniemyjski.com/blog/how-to-upgrade-your-existing-plinqo-or-csla-codesmith-generator-templates/ class="button big next">How-to: Upgrade your existing PLINQO or CSLA CodeSmith Generator Templates</a></li></ul></div><section id=sidebar><section id=intro><a href=https://blakeniemyjski.com/><img src=https://blakeniemyjski.com/img/logo.jpeg class=intro-circle width=250 alt="Blake Niemyjski"></a><header><h2>Blake Niemyjski</h2><p>Passionate about building software</p></header><ul class=icons><li><a href=https://blakeniemyjski.com/index.xml type=application/rss+xml target=_blank title=RSS><i class="fas fa-rss"></i></a></li><li><a href=//github.com/niemyjski target=_blank title=GitHub><i class="fab fa-github"></i></a></li><li><a href=//stackoverflow.com/users/199701 target=_blank title="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li><li><a href=//linkedin.com/in/niemyjski target=_blank title=LinkedIn><i class="fab fa-linkedin"></i></a></li><li><a href=//reddit.com/user/bniemyjski target=_blank title=Reddit><i class="fab fa-reddit"></i></a></li><li><a href=//youtube.com/bniemyjski target=_blank title=YouTube><i class="fab fa-youtube"></i></a></li><li><a href=//instagram.com/blake.niemyjski target=_blank title=Instagram><i class="fab fa-instagram"></i></a></li><li><a href=//twitter.com/blaken target=_blank title=Twitter><i class="fab fa-twitter"></i></a></li><li><a href=mailto:bniemyjski@gmail.com title=Email><i class="fas fa-envelope"></i></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Recent Posts</h3></header><div class=posts-container><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/installing-home-assistant-on-ubuntu/>Installing Home Assistant on Ubuntu</a></h3><time class=published datetime=2020-03-09>March 9, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/upgrading-home-assistant-hardware-in-2020/>Upgrading Home Assistant hardware in 2020</a></h3><time class=published datetime=2020-03-03>March 3, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/thinking-about-smart-home-power-usage/>Thinking about smart home power usage</a></h3><time class=published datetime=2020-02-13>February 13, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/hello-home-automation-how-to-detect-battery-levels-with-node-red/>Hello Home Automation, How to detect battery levels with Node-RED</a></h3><time class=published datetime=2020-02-03>February 3, 2020</time></header></article></div><a href=/categories/ class=button>View more posts</a></div></section><section id=mini-bio><h3>About</h3><p>Blake Niemyjski is a full time open source software architect and private pilot. Since the late 90's, Blake's curiosity has been focused around developing software that helps the masses. As a hobbyist developer turned student and professional, Blake's passion is to further his knowledge and create technologies for the future.</p><a href=https://blakeniemyjski.com/about/ class=button>Learn More About Me</a></section><section id=footer><p class=copyright>&copy; 2020
Blake Niemyjski
.
Powered by <a href=//gohugo.io target=_blank rel=noreferrer>Hugo</a></p></section></section></div><a id=back-to-top href=# class="fas fa-arrow-up fa-border fa-2x"></a><script defer src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script defer src=https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js></script><script defer src=https://use.fontawesome.com/releases/v5.12.0/js/all.js></script><script defer src=https://blakeniemyjski.com/js/util.js></script><script defer src=https://blakeniemyjski.com/js/main.js></script><script defer src=https://blakeniemyjski.com/js/backToTop.js></script><script defer src=https://blakeniemyjski.com/js/disqusLoader.js></script><script defer src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script defer src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/vbnet.min.js></script><script defer src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/dockerfile.min.js></script><script defer src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/dos.min.js></script><script defer src=https://blakeniemyjski.com/js/init-highlight.js></script></body></html>