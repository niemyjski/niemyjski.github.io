<!doctype html><html lang=en><head><link rel=preconnect href=https://fonts.googleapis.com crossorigin><link rel=preconnect href=https://use.fontawesome.com crossorigin><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preconnect href=https://cdnjs.cloudflare.com crossorigin><link rel=preconnect href=https://www.google-analytics.com crossorigin><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blakeniemyjski.com\/"},"articleSection":"blog","name":"How-to get notifications when your mailbox is opened","headline":"How-to get notifications when your mailbox is opened","description":"Have you ever waited endlessly for an important package or mail to be delivered? Have you ever dealt with a package being stolen from your mailbox? In this guide I\u0026rsquo;ll show you how to see packages will arrive today and notifications when it\u0026rsquo;s delivered as shown below with the help of Home Assistant!\nThis guide will also show you how to bring in mail and packages sensors from various different delivery services to allow you to see your mail in the Media Browser as well as provide additional context to the delivery notifications.","inLanguage":"en","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"17170","datePublished":"2020-12-17 07:05:00 -0600 -0600","dateModified":"2020-12-17 07:05:00 -0600 -0600","url":"https:\/\/blakeniemyjski.com\/blog\/how-to-get-notifications-when-your-mailbox-is-opened\/","wordCount":"1524","keywords":["Home Assistant","Automation","Mail","Mailbox","Package","sensor","media_player","Doorbell","HACS","Security","IMAP","GIMP","Media Source","Camera","Camera Proxy","Blueprint","MQTT","Amazon","USPS","FedEx","UPS","DHL","Unifi","Nest","Ring","Text-To-Speech","Notification","Notify","Blog"]}</script><title>How-to get notifications when your mailbox is opened</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.79.0"><meta name=description content="Blake Niemyjski"><meta name=twitter:card content="summary"><meta name=twitter:title content="How-to get notifications when your mailbox is opened"><meta name=twitter:description content="Have you ever waited endlessly for an important package or mail to be delivered? Have you ever dealt with a package being stolen from your mailbox? In this guide I&rsquo;ll show you how to see packages will arrive today and notifications when it&rsquo;s delivered as shown below with the help of Home Assistant!
This guide will also show you how to bring in mail and packages sensors from various different delivery services to allow you to see your mail in the Media Browser as well as provide additional context to the delivery notifications."><meta name=twitter:site content="@blaken"><meta property="og:title" content="How-to get notifications when your mailbox is opened"><meta property="og:description" content="Have you ever waited endlessly for an important package or mail to be delivered? Have you ever dealt with a package being stolen from your mailbox? In this guide I&rsquo;ll show you how to see packages will arrive today and notifications when it&rsquo;s delivered as shown below with the help of Home Assistant!
This guide will also show you how to bring in mail and packages sensors from various different delivery services to allow you to see your mail in the Media Browser as well as provide additional context to the delivery notifications."><meta property="og:type" content="article"><meta property="og:url" content="https://blakeniemyjski.com/blog/how-to-get-notifications-when-your-mailbox-is-opened/"><meta property="article:published_time" content="2020-12-17T07:05:00-06:00"><meta property="article:modified_time" content="2020-12-17T07:05:00-06:00"><meta property="og:image" content="https://blakeniemyjski.com//images/logo.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="512"><meta property="og:image:height" content="512"><meta itemprop=name content="How-to get notifications when your mailbox is opened"><meta itemprop=description content="Have you ever waited endlessly for an important package or mail to be delivered? Have you ever dealt with a package being stolen from your mailbox? In this guide I&rsquo;ll show you how to see packages will arrive today and notifications when it&rsquo;s delivered as shown below with the help of Home Assistant!
This guide will also show you how to bring in mail and packages sensors from various different delivery services to allow you to see your mail in the Media Browser as well as provide additional context to the delivery notifications."><meta itemprop=datePublished content="2020-12-17T07:05:00-06:00"><meta itemprop=dateModified content="2020-12-17T07:05:00-06:00"><meta itemprop=wordCount content="1524"><meta itemprop=keywords content="Home Assistant,Automation,Mail,Mailbox,Package,sensor,media_player,Doorbell,HACS,Security,IMAP,GIMP,Media Source,Camera,Camera Proxy,Blueprint,MQTT,Amazon,USPS,FedEx,UPS,DHL,Unifi,Nest,Ring,Text-To-Speech,Notification,Notify,"><link rel=preload as=style href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700&display=swap" media=print onload="this.media='all'"><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700&display=swap"></noscript><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.13.0/css/all.css><link rel=stylesheet href=https://blakeniemyjski.com/css/main.css><link href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.1/styles/vs.min.css rel=stylesheet type=text/css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-3422587-1','auto');ga('send','pageview');}</script></head><body><div id=wrapper><header id=header><h1><a href=https://blakeniemyjski.com/>blog</a></h1><nav class=links><ul><li><a href=https://blakeniemyjski.com/><i class="fas fa-home"></i>&nbsp;Home</a></li><li><a href=https://blakeniemyjski.com/categories/home-automation/><i class="fas fa-magic"></i>&nbsp;Home Automation</a></li><li><a href=https://blakeniemyjski.com/categories/programming/><i class="fas fa-code"></i>&nbsp;Programming</a></li><li><a href=https://blakeniemyjski.com/categories/review/><i class="fas fa-book"></i>&nbsp;Reviews</a></li><li><a href=https://blakeniemyjski.com/categories/public-speaking/><i class="fas fa-comments"></i>&nbsp;Public Speaking</a></li><li><a href=https://blakeniemyjski.com/about/><i class="fas fa-id-card"></i>&nbsp;About</a></li></ul></nav><nav class=main><ul><li id=share-nav class=share-menu style=display:none><a class=fa-share-alt href=#share-menu>Share</a></li><li class=search><a class=fa-search href=#search>Search</a><form id=search method=get action=//google.com/search><input type=text name=q placeholder=Search aria-label=Search>
<input type=hidden name=as_sitesearch value=https://blakeniemyjski.com/></form></li><li class=menu><a class=fa-bars href=#menu>Menu</a></li></ul></nav></header><section id=menu><section><form class=search method=get action=//google.com/search><input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=https://blakeniemyjski.com/></form></section><section><ul class=links><li><a href=https://blakeniemyjski.com/><h3><i class="fas fa-home"></i>&nbsp;Home</h3></a></li><li><a href=https://blakeniemyjski.com/categories/home-automation/><h3><i class="fas fa-magic"></i>&nbsp;Home Automation</h3></a></li><li><a href=https://blakeniemyjski.com/categories/programming/><h3><i class="fas fa-code"></i>&nbsp;Programming</h3></a></li><li><a href=https://blakeniemyjski.com/categories/review/><h3><i class="fas fa-book"></i>&nbsp;Reviews</h3></a></li><li><a href=https://blakeniemyjski.com/categories/public-speaking/><h3><i class="fas fa-comments"></i>&nbsp;Public Speaking</h3></a></li><li><a href=https://blakeniemyjski.com/about/><h3><i class="fas fa-id-card"></i>&nbsp;About</h3></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Recent Posts</h3></header><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/how-to-get-notifications-when-your-mailbox-is-opened/>How-to get notifications when your mailbox is opened</a></h3><time class=published datetime=2020-12-17>December 17, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/disturbing-trends-in-smart-home-products-and-services/>Disturbing trends in smart home products and services</a></h3><time class=published datetime=2020-12-02>December 2, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/securing-smart-home-devices-with-esphome-and-home-assistant/>Securing smart home devices with ESPHome and Home Assistant</a></h3><time class=published datetime=2020-10-17>October 17, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/building-and-maintaining-a-smart-home-presentation/>Building and maintaining a smart home presentation</a></h3><time class=published datetime=2020-08-25>August 25, 2020</time></header></article><a href=/categories/ class=button>View more posts</a></div></section></section><section id=share-menu><section id=social-share-nav><ul class=links><header><h3>Share this post <i class="fas fa-smile"></i></h3></header><li><a href="//twitter.com/share?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-get-notifications-when-your-mailbox-is-opened%2f&text=How-to%20get%20notifications%20when%20your%20mailbox%20is%20opened&via=blaken" target=_blank rel=noopener class="share-btn twitter" aria-label="Share To Twitter"><i class="fab fa-twitter"></i><p>Twitter</p></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-get-notifications-when-your-mailbox-is-opened%2f" target=_blank rel=noopener class="share-btn facebook" aria-label="Share To Facebook"><i class="fab fa-facebook"></i><p>Facebook</p></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-get-notifications-when-your-mailbox-is-opened%2f&title=How-to%20get%20notifications%20when%20your%20mailbox%20is%20opened" target=_blank rel=noopener class="share-btn reddit" aria-label="Share To Reddit"><i class="fab fa-reddit-alien"></i><p>Reddit</p></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-get-notifications-when-your-mailbox-is-opened%2f&title=How-to%20get%20notifications%20when%20your%20mailbox%20is%20opened" target=_blank rel=noopener class="share-btn linkedin" aria-label="Share To LinkedIn"><i class="fab fa-linkedin"></i><p>LinkedIn</p></a></li><li><a href="mailto:?subject=Check out this post by &body=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-get-notifications-when-your-mailbox-is-opened%2f" target=_blank rel=noopener class="share-btn email" aria-label="Share To Email"><i class="fas fa-envelope"></i><p>Email</p></a></li></ul></section></section><div id=main><article class=post><header><div class=title><h1><a href=https://blakeniemyjski.com/blog/how-to-get-notifications-when-your-mailbox-is-opened/>How-to get notifications when your mailbox is opened</a></h1></div><div class=meta><time class=published datetime=2020-12-17>December 17, 2020</time>
<span class=author></span><p>8 minute read</p></div></header><section id=social-share><ul class=icons><li><a href="//twitter.com/share?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-get-notifications-when-your-mailbox-is-opened%2f&text=How-to%20get%20notifications%20when%20your%20mailbox%20is%20opened&via=blaken" target=_blank rel=noopener class="share-btn twitter" aria-label="Share To Twitter"><i class="fab fa-twitter"></i><p>Twitter</p></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-get-notifications-when-your-mailbox-is-opened%2f" target=_blank rel=noopener class="share-btn facebook" aria-label="Share To Facebook"><i class="fab fa-facebook"></i><p>Facebook</p></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-get-notifications-when-your-mailbox-is-opened%2f&title=How-to%20get%20notifications%20when%20your%20mailbox%20is%20opened" target=_blank rel=noopener class="share-btn reddit" aria-label="Share To Reddit"><i class="fab fa-reddit-alien"></i><p>Reddit</p></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-get-notifications-when-your-mailbox-is-opened%2f&title=How-to%20get%20notifications%20when%20your%20mailbox%20is%20opened" target=_blank rel=noopener class="share-btn linkedin" aria-label="Share To LinkedIn"><i class="fab fa-linkedin"></i><p>LinkedIn</p></a></li><li><a href="mailto:?subject=Check out this post by &body=https%3a%2f%2fblakeniemyjski.com%2fblog%2fhow-to-get-notifications-when-your-mailbox-is-opened%2f" target=_blank rel=noopener class="share-btn email" aria-label="Share To Email"><i class="fas fa-envelope"></i><p>Email</p></a></li></ul></section><div id=content><p>Have you ever waited endlessly for an important package or mail to be delivered?
Have you ever dealt with a package being stolen from your mailbox? In this
guide I&rsquo;ll show you how to see packages will arrive today and notifications
when it&rsquo;s delivered as shown below with the help of
<a href=https://www.home-assistant.io>Home Assistant</a>!</p><p><img src=https://blakeniemyjski.com/img/blog/home-automation/mail-delivered-notification-600.jpg alt="Mail Delivered Notification"></p><p>This guide will also show you how to bring in mail and packages sensors from
various different delivery services to allow you to see your mail in the Media
Browser as well as provide additional context to the delivery notifications.</p><blockquote><p>A huge shout out to <a href=https://www.architectryan.com/>Ryan Hoffman</a> who
shared his experiences with the Ring mailbox sensor and how he was using the
<a href=#camera-proxy-integration>Camera Proxy Integration</a>.</p></blockquote><h2 id=configuring-integrations>Configuring Integrations</h2><p>In the sections below we will configure some integrations and email settings.</p><h3 id=installing-home-assistant-community-store-hacs>Installing Home Assistant Community Store (HACS)</h3><p>If you haven&rsquo;t done so yet, please follow <a href=https://hacs.xyz/docs/installation/manual>these instructions</a>
to install <a href=https://hacs.xyz>HACS</a>. This will allow us to install and manage
third party integrations, plugins, themes and more.</p><h3 id=installing-the-media-source-integration>Installing the Media Source integration</h3><p>Installing the <a href=https://www.home-assistant.io/integrations/media_source/>Media Source integration</a>
will allow us to view what email is arriving today as well as any image
snapshots we take when our mailbox is opened!</p><h3 id=installing-mail-and-packages-integration>Installing Mail and Packages integration</h3><p>Once HACS is installed, we need to install the
<a href=https://github.com/moralmunky/Home-Assistant-Mail-And-Packages>Mail and Packages Integration</a>.
This integration uses IMAP to search your email account for specific emails by
different delivery services like <code>Amazon</code>, <code>USPS</code>, <code>FedEx</code>, <code>UPS</code>, <code>DHL</code> and
<a href=https://github.com/moralmunky/Home-Assistant-Mail-And-Packages/wiki#how-it-works>more</a>.</p><p>There is a complete guide located on the projects site on how to
<a href=https://github.com/moralmunky/Home-Assistant-Mail-And-Packages/wiki/Configuration-and-Email-Settings>install and configure</a>
the integration.</p><blockquote><p>I really like receiving the daily USPS Informed Delivery email notifications
with the images of mail being delivered so I can see if I even need to get
the mail for today or I can wait until I get a package I care about. It&rsquo;s
also helped me inquire when I didn&rsquo;t get a piece of mail it said was coming.
Having this all in Home Assistant as an animated gif with sensors has taken
it to a whole new level.</p></blockquote><p>I recommend configuring the sensor list to track only what you are interested.
This will ensure the sensors update quickly only searching your email for the
delivery services you are most likely to use. This will create a bunch of
sensors for each delivery service (e.g., <code>sensor.mail_usps_mail</code>,
<code>sensor.mail_amazon_packages</code>).</p><blockquote><p>Important: I search the all mail folder and archive all delivery email
notifications. If you delete the notification emails, the sensors
will not detect the arriving / delivered mail properly.</p></blockquote><p>Finally, make sure you specify the image path to use the new media
integration! You can do this by setting the <code>Image Path</code> to <code>/media/mail</code>.
This will create a gif attachment <code>/media/mail/mail_today.gif</code> of all the mail
being delivered to you that you can can view via the media browser or in a
notification!</p><p>Here is what my configuration looked like:</p><p><img src=https://blakeniemyjski.com/img/blog/home-automation/mail-and-packages-settings-597.png alt="Installing Mail and Packages"></p><h3 id=camera-integration>Camera Integration</h3><p>I recommend having a camera pointing where packages are normally dropped off
(e.g., front porch) and mailbox if possible. This allows you to take a snapshot
when a package is delivered and use these in notifications.</p><p>A smart doorbell with a video feed
has been working great for my setup. I use the
<a href="https://www.amazon.com/Ubiquiti-UniFi-Protect-Doorbell-UVC-G4-DoorBell/dp/B08L3X9ZZX?tag=niemyjski-20">Ubiquiti UniFi Protect G4 Doorbell</a>
as it stores all the data locally. But you can use the
<a href=https://store.google.com/us/product/nest_hello_doorbell>Nest Hello</a> or
<a href="https://www.amazon.com/dp/B07WLP395R?tag=niemyjski-20">Ring Video Doorbell</a>. Just be careful
about your privacy settings and be aware of the cloud dependency.</p><p>Depending on your camera you choose, you&rsquo;ll need to configure it in Home
Assistant.</p><h3 id=camera-proxy-integration>Camera Proxy Integration</h3><p>The <a href=https://www.home-assistant.io/integrations/proxy/>Camera Proxy integration</a>
is a little known integration but worth it&rsquo;s weight in gold. This integration
lets us crop a camera into only the area we are interested in, thus removing a
ton of noise from an image. You make a camera containing only the area you are
interested. Below we turn the original camera content</p><p><img src=https://blakeniemyjski.com/img/blog/home-automation/mail-camera-540.png alt="Original Camera"></p><p>into</p><p><img src=https://blakeniemyjski.com/img/blog/home-automation/mail-camera-proxy-265.jpg alt="Cropped Camera Proxy"></p><p>In order to setup the image cropping your first need to know the offsets in
your existing image that you wish to crop. I&rsquo;d start by saving an image snapshot
from your camera feed and loading it into an image editing software like
<a href=https://www.gimp.org>GIMP</a> that supports showing you the <code>X,Y</code> coordinates
of where you clicked.</p><p>Next, click on the upper left of where I wanted to start the crop. GIMP showed
me the <code>X1,Y1</code> of <code>750,580</code> when in the lower left toolbar. I then set <code>image_top</code>
to <code>580</code> and <code>image_left</code> to <code>750</code>.</p><p>Next, click on the lower left side where I wanted to end the crop. I got the
<code>X2,Y2</code> of <code>1015,705</code> when in the lower left toolbar. I then did some basic
subtraction and set <code>max_image_width</code> and <code>max_stream_width</code> to the value of
<code>X2-X1</code> and set <code>max_image_height</code> and <code>max_stream_height</code> to the value of
<code>Y2-Y1</code></p><p>Here is the yaml configuration that I used for my camera:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>- <span style=color:#f92672>platform</span>: <span style=color:#ae81ff>proxy</span>
  <span style=color:#f92672>entity_id</span>: <span style=color:#ae81ff>camera.front_door</span>
  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Mailbox</span>
  <span style=color:#f92672>mode</span>: <span style=color:#ae81ff>crop</span>
  <span style=color:#f92672>max_image_width</span>: <span style=color:#ae81ff>265</span>
  <span style=color:#f92672>max_image_height</span>: <span style=color:#ae81ff>125</span>
  <span style=color:#f92672>max_stream_width</span>: <span style=color:#ae81ff>265</span>
  <span style=color:#f92672>max_stream_height</span>: <span style=color:#ae81ff>125</span>
  <span style=color:#f92672>image_top</span>: <span style=color:#ae81ff>580</span>
  <span style=color:#f92672>image_left</span>: <span style=color:#ae81ff>750</span>
</code></pre></div><p>You can now reference this Camera Proxy integration as a normal camera named
<code>camera.mailbox</code>!</p><h3 id=mailbox-sensor>Mailbox Sensor</h3><blockquote><p>If you already have a mailbox sensor you can skip this step.</p></blockquote><p>I&rsquo;ve researched a lot of different solutions both DYI and paid products for
getting notifications when my mailbox was opened. Here was some of the things
I was looking for in a sensor:</p><ul><li>Will it last the brutally cold winters and thousands of open and closes?</li><li>Will it work in a metal faraday cage (e.g., metal mailbox)?</li><li>What is the battery life?</li><li>What is the max range the sensor data will transmit</li><li>Can I get the sensor data locally?</li><li>Will the company be around in five years?</li></ul><h4 id=ring-mailbox-sensor>Ring Mailbox Sensor</h4><p>I ended up going with <a href="https://www.amazon.com/dp/B08J1NP9Z5?tag=niemyjski-20">Ring Mailbox Sensor</a>.
I was really hesitant at first given Ring cloud dependency and track record
around <a href=https://arstechnica.com/tech-policy/2019/08/police-can-get-your-ring-doorbell-footage-without-a-warrant-report-says/>camera privacy</a>.
I&rsquo;ll cover this more in detail in a review later.</p><p>However, It was the only solution that worked with my metal mailbox due to the
antenna and checked off most of the criteria.</p><p><img src=https://blakeniemyjski.com/img/blog/home-automation/mail-ring-antenna-1200.jpg alt="Ring Antenna"></p><p>The cable was also braided which gives me confidence it will last over time. I
also wrapped the cable with some extra tape and taped it to the bottom of the
mailbox and to the door.</p><p><img src=https://blakeniemyjski.com/img/blog/home-automation/mail-ring-sensor-1200.jpg alt="Ring Sensor"></p><p>I followed the Ring installation documentation and setup the light bridge as
well.</p><h4 id=ring-integration>Ring Integration</h4><blockquote><p>This integration assumes you are already using <a href=https://www.home-assistant.io/docs/mqtt/>MQTT</a>.
I&rsquo;d recommend using the <a href=https://github.com/home-assistant/addons/blob/master/mosquitto/README.md>official Mosquitto add-on</a>.</p></blockquote><p>Lets install the <a href=https://github.com/tsightler/ring-mqtt-ha-addon>Ring Devices via MQTT Add-on</a>
from <a href=https://github.com/hassio-addons/repository>Home Assistant Community Add-ons</a>
repository. This allows us to run Ring discovery locally and have our devices integrate
automatically with Home Assistant by taking advantage of all the awesome
community work that&rsquo;s been done. Behind the scenes the add-on uses auto discovery
to expose configured devices to Home Assistant automatically!</p><blockquote><p>We have to install this addon because the official Ring integration doesn&rsquo;t
support the Ring light bridge that the mailbox sensor uses.</p></blockquote><ol><li>Navigate to <a href=http://homeassistant.local:8123/hassio/store>http://homeassistant.local:8123/hassio/store</a>.</li><li>Click on the option menu in the upper right and select <code>Repositories</code>.</li><li>Enter <code>https://github.com/tsightler/ring-mqtt-ha-addon</code> and then click the <code>Add</code> button.</li><li>Click the close button to close the <code>Manage add-on repositories</code> dialog.</li><li>Select the <code>Ring Devices</code> add-on or access via the url <a href=http://homeassistant.local:8123/hassio/addon/03cabcc9_ring_mqtt/info>http://homeassistant.local:8123/hassio/addon/03cabcc9_ring_mqtt/info</a>.</li><li>Click the <code>Install</code> button.</li><li>Click the <code>Start</code> button.</li><li>Finally, open the Web UI once the addon is started and login to your Ring Account.</li></ol><p>The Ring devices should now be discovered and shown under the MQTT Integration.
I had two devices created for me and a mailbox sensor
<code>binary_sensor.mailbox_motion</code>.</p><h3 id=automations>Automations</h3><p>The possibilities are endless for what you can do when the mailbox is opened.</p><blockquote><p>I&rsquo;d recommend checking out <a href=https://www.home-assistant.io/docs/automation/using_blueprints/>Home Assistant Blueprints</a>
for quickly importing and consuming automations.</p></blockquote><h4 id=send-picture-notification-when-mailbox-is-opened>Send picture notification when mailbox is opened</h4><p><img src=https://blakeniemyjski.com/img/blog/home-automation/mail-delivered-notification-600.jpg alt="Mail Delivered Notification"></p><p>I&rsquo;m using the following <a href=https://community.home-assistant.io/t/send-camera-snapshot-notification-on-motion/254565>Home Assistant Blueprint</a>
to send a notification when the <code>binary_sensor.mailbox_motion</code> is triggered
using the <code>camera.mailbox</code> for the camera source.</p><p>I customized the Title to <code>Mailbox opened</code> and used a template for
the Message of <code>Expecting {{ states("sensor.mail_usps_mail") }} items to be delivered.</code>
This uses one of the sensors that our <a href=#installing-mail-and-packages-integration>Mail and Package integration</a>
added.</p><p><img src=https://blakeniemyjski.com/img/blog/home-automation/mail-blueprint-notification-800.png alt="Mail Notification Blueprint"></p><h4 id=store-a-media-snapshot-when-mailbox-is-opened>Store a media snapshot when mailbox is opened.</h4><p>I&rsquo;m using the following <a href=https://community.home-assistant.io/t/save-a-camera-snapshot-with-archive-when-motion-is-detected/256606>Home Assistant Blueprint</a>
to take a camera snapshots and save them to <code>/media/mail</code> for easy viewing.</p><p>I set the <code>File Path</code> to <code>/media/mail/last_opened.jpg</code> and the
<code>Archive File Path</code> to
<code>/media/mail/archive/opened_{{ now().strftime("%Y%m%d-%H%M%S") }}.jpg</code></p><p><img src=https://blakeniemyjski.com/img/blog/home-automation/mail-blueprint-snapshot-800.png alt="Mail Snapshot Blueprint"></p><h4 id=automation-ideas>Automation ideas</h4><p>The possibilities are endless for what notifications you could do when the
mailbox is opened like:</p><ul><li>Play a <a href=https://blakeniemyjski.com/blog/how-to-send-text-to-speech-notifications-with-home-assistant-and-node-red>Text-to-Speech (TTS) notification</a> for <code>You Got Mail</code> to any <code>media_player</code>.</li><li>Stream the <code>camera.mailbox</code> feed to a <code>media_player</code>.</li><li>Turn on the outside lights if the mailbox is opened at night.</li><li>Send <a href=https://github.com/moralmunky/Home-Assistant-Mail-And-Packages/wiki/Example-Automations-and-Templates#delivery-summary-text-sensor-template-example>notifications</a> when mail is scheduled to be delivered.</li><li>Trigger object recognition to see who is at your mailbox.</li></ul><h3 id=lovelace-integration>Lovelace integration</h3><p>You can also use a picture card to display the last snapshot of who opened the
mailbox <code>/media/mail/last_opened.jpg</code> as well as one for all the mail out for
delivery today with the <code>/media/mail/mail_today.gif</code> source. I&rsquo;ve opened a
<a href=https://github.com/home-assistant/frontend/discussions/8001>feature request</a>
to make this much easier!</p><h3 id=conclusion>Conclusion</h3><p>I hope this article helps you be better informed about mail deliveries and what
packages to expect are coming. It&rsquo;s helped give me more confidence and saved
myself countless empty trips to the mailbox.</p></div><footer><ul class=stats><li class=categories><ul><i class="fas fa-folder"></i><li><a class=article-category-link href=https://blakeniemyjski.com/categories/home-automation>Home Automation</a></li></ul></li><li class=tags><ul><i class="fas fa-tags"></i><li><a class=article-category-link href=https://blakeniemyjski.com/tags/home-assistant>Home Assistant</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/automation>Automation</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/mail>Mail</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/mailbox>Mailbox</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/package>Package</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/sensor>sensor</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/media_player>media_player</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/doorbell>Doorbell</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/hacs>HACS</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/security>Security</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/imap>IMAP</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/gimp>GIMP</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/media-source>Media Source</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/camera>Camera</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/camera-proxy>Camera Proxy</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/blueprint>Blueprint</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/mqtt>MQTT</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/amazon>Amazon</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/usps>USPS</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/fedex>FedEx</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/ups>UPS</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/dhl>DHL</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/unifi>Unifi</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/nest>Nest</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/ring>Ring</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/text-to-speech>Text-To-Speech</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/notification>Notification</a></li><li><a class=article-category-link href=https://blakeniemyjski.com/tags/notify>Notify</a></li></ul></li></ul></footer><div id=mailing-list><h3>Join the mailing list</h3>Get notified of new posts and related content to your inbox. I will never sell
you anything and I will NEVER sell your email address.<form class=email-form name=newsletter method=post data-netlify=true netlify-honeypot=bot-field><div hidden aria-hidden=true><label>Don't fill this out if you're human:
<input name=bot-field></label></div><label for=email>Your email address</label><div class=email-container><input type=email name=email placeholder=Email id=email required>
<button name=submit class=button type=submit id=subscribe>Subscribe</button></div></form></div></article><article class=post><div class=disqus></div><script>(function(){var disqus_shortname='niemyjski';window.disqusLoaderSettings={element:'.disqus',options:{scriptUrl:'//'+disqus_shortname+'.disqus.com/embed.js',disqusConfig:function(){this.page.url="https:\/\/blakeniemyjski.com\/blog\/how-to-get-notifications-when-your-mailbox-is-opened\/";this.page.identifier="https:\/\/blakeniemyjski.com\/blog\/how-to-get-notifications-when-your-mailbox-is-opened\/";}}};})();</script></article><ul class="actions pagination"><li><a href=https://blakeniemyjski.com/blog/disturbing-trends-in-smart-home-products-and-services/ class="button big previous">Disturbing trends in smart home products and services</a></li></ul></div><section id=sidebar><section id=intro><a href=https://blakeniemyjski.com/><img src=https://blakeniemyjski.com/img/logo.jpeg class=intro-circle width=250 alt="Blake Niemyjski"></a><header><h2>Blake Niemyjski</h2><p>Passionate about building software</p></header><ul class=icons><li><a href=https://blakeniemyjski.com/index.xml type=application/rss+xml target=_blank title=RSS><i class="fas fa-rss"></i></a></li><li><a href=//github.com/niemyjski target=_blank title=GitHub><i class="fab fa-github"></i></a></li><li><a href=//stackoverflow.com/users/199701 target=_blank title="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li><li><a href=//linkedin.com/in/niemyjski target=_blank title=LinkedIn><i class="fab fa-linkedin"></i></a></li><li><a href=//reddit.com/user/bniemyjski target=_blank title=Reddit><i class="fab fa-reddit"></i></a></li><li><a href=//youtube.com/bniemyjski target=_blank title=YouTube><i class="fab fa-youtube"></i></a></li><li><a href=//instagram.com/blake.niemyjski target=_blank title=Instagram><i class="fab fa-instagram"></i></a></li><li><a href=//twitter.com/blaken target=_blank title=Twitter><i class="fab fa-twitter"></i></a></li><li><a href=mailto:bniemyjski@gmail.com title=Email><i class="fas fa-envelope"></i></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Recent Posts</h3></header><div class=posts-container><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/how-to-get-notifications-when-your-mailbox-is-opened/>How-to get notifications when your mailbox is opened</a></h3><time class=published datetime=2020-12-17>December 17, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/disturbing-trends-in-smart-home-products-and-services/>Disturbing trends in smart home products and services</a></h3><time class=published datetime=2020-12-02>December 2, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/securing-smart-home-devices-with-esphome-and-home-assistant/>Securing smart home devices with ESPHome and Home Assistant</a></h3><time class=published datetime=2020-10-17>October 17, 2020</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/blog/building-and-maintaining-a-smart-home-presentation/>Building and maintaining a smart home presentation</a></h3><time class=published datetime=2020-08-25>August 25, 2020</time></header></article></div><a href=/categories/ class=button>View more posts</a></div></section><section id=mini-bio><h3>About</h3><p>Blake Niemyjski is a full time open source software architect and private pilot. Since the late 90's, Blake's curiosity has been focused around developing software that helps the masses. As a hobbyist developer turned student and professional, Blake's passion is to further his knowledge and create technologies for the future.</p><a href=https://blakeniemyjski.com/about/ class=button>Learn More About Me</a></section><section id=footer><p class=copyright>&copy; 2020
Blake Niemyjski
.
Powered by <a href=//gohugo.io target=_blank rel=noreferrer>Hugo</a></p></section></section></div><a id=back-to-top href=# class="fas fa-arrow-up fa-border fa-2x"></a><script defer src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js></script><script defer src=https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js></script><script defer src=https://use.fontawesome.com/releases/v5.13.0/js/all.js></script><script defer src=https://blakeniemyjski.com/js/util.js></script><script defer src=https://blakeniemyjski.com/js/main.js></script><script defer src=https://blakeniemyjski.com/js/backToTop.js></script><script defer src=https://blakeniemyjski.com/js/disqusLoader.js></script><script defer src=https://blakeniemyjski.com/js/mailing-list.js></script><script defer src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.1/highlight.min.js></script><script defer src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.1/languages/vbnet.min.js></script><script defer src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.1/languages/dockerfile.min.js></script><script defer src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.1/languages/dos.min.js></script><script defer src=https://blakeniemyjski.com/js/init-highlight.js></script></body></html>