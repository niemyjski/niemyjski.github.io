<!doctype html><html><head><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blakeniemyjski.com\/"},"articleSection":"programming","name":"How-to: Use partial methods to preserve custom CSLA code and promote active regeneration.","headline":"How-to: Use partial methods to preserve custom CSLA code and promote active regeneration.","description":"One of the best features of code generation is the reality of being able to actively generate you code while preserving custom changes. This allows you to implement custom logic while constantly making changes to your metadata and getting the latest template changes. CodeSmith Generator has worked hard on making this happen in both the PLINQO and CSLA Templates. The CSLA templates offer many partial method overrides to make your life easier.","inLanguage":"en","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2010","datePublished":"2010-07-29 17:39:02 \x2b0000 UTC","dateModified":"2010-07-29 17:39:02 \x2b0000 UTC","url":"https:\/\/blakeniemyjski.com\/programming\/how-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration\/","wordCount":"862","keywords":["CSLA","Blog"]}</script><title>How-to: Use partial methods to preserve custom CSLA code and promote active regeneration.</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.63.2"><meta name=description content="Blake Niemyjski"><meta name=twitter:card content="summary"><meta name=twitter:title content="How-to: Use partial methods to preserve custom CSLA code and promote active regeneration."><meta name=twitter:description content="One of the best features of code generation is the reality of being able to actively generate you code while preserving custom changes. This allows you to implement custom logic while constantly making changes to your metadata and getting the latest template changes. CodeSmith Generator has worked hard on making this happen in both the PLINQO and CSLA Templates. The CSLA templates offer many partial method overrides to make your life easier."><meta name=twitter:site content="@blaken"><meta property="og:title" content="How-to: Use partial methods to preserve custom CSLA code and promote active regeneration."><meta property="og:description" content="One of the best features of code generation is the reality of being able to actively generate you code while preserving custom changes. This allows you to implement custom logic while constantly making changes to your metadata and getting the latest template changes. CodeSmith Generator has worked hard on making this happen in both the PLINQO and CSLA Templates. The CSLA templates offer many partial method overrides to make your life easier."><meta property="og:type" content="article"><meta property="og:url" content="https://blakeniemyjski.com/programming/how-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration/"><meta property="article:published_time" content="2010-07-29T17:39:02+00:00"><meta property="article:modified_time" content="2010-07-29T17:39:02+00:00"><meta property="og:image" content="https://blakeniemyjski.com//images/logo.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="512"><meta property="og:image:height" content="512"><meta itemprop=name content="How-to: Use partial methods to preserve custom CSLA code and promote active regeneration."><meta itemprop=description content="One of the best features of code generation is the reality of being able to actively generate you code while preserving custom changes. This allows you to implement custom logic while constantly making changes to your metadata and getting the latest template changes. CodeSmith Generator has worked hard on making this happen in both the PLINQO and CSLA Templates. The CSLA templates offer many partial method overrides to make your life easier."><meta itemprop=datePublished content="2010-07-29T17:39:02+00:00"><meta itemprop=dateModified content="2010-07-29T17:39:02+00:00"><meta itemprop=wordCount content="862"><meta itemprop=keywords content="CSLA,"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-light.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css><link rel=stylesheet href=https://blakeniemyjski.com/css/main.css><link rel=stylesheet href=https://blakeniemyjski.com/css/add-on.css><link rel=stylesheet href=https://blakeniemyjski.com/css/academicons.min.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-3422587-1','auto');ga('send','pageview');}</script></head><body><div id=wrapper><header id=header><h1><a href=https://blakeniemyjski.com/>programming</a></h1><nav class=links><ul><li><a href=https://blakeniemyjski.com/><i class="fa fa-home">&nbsp;</i>Home</a></li><li><a href=https://blakeniemyjski.com/categories/review/><i class="fa fa-book">&nbsp;</i>Reviews</a></li><li><a href=https://blakeniemyjski.com/categories/public-speaking/><i class="fa fa-commenting-o">&nbsp;</i>Public Speaking</a></li><li><a href=https://blakeniemyjski.com/categories/programming/><i class="fa fa-code">&nbsp;</i>Programming</a></li><li><a href=https://blakeniemyjski.com/about/><i class="fa fa-id-card-o">&nbsp;</i>About</a></li></ul></nav><nav class=main><ul><li id=share-nav class=share-menu style=display:none><a class=fa-share-alt href=#share-menu>Share</a></li><li class=search><a class=fa-search href=#search>Search</a><form id=search method=get action=//google.com/search><input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=https://blakeniemyjski.com/></form></li><li class=menu><a class=fa-bars href=#menu>Menu</a></li></ul></nav></header><section id=menu><section><form class=search method=get action=//google.com/search><input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=https://blakeniemyjski.com/></form></section><section><ul class=links><li><a href=https://blakeniemyjski.com/><h3><i class="fa fa-home">&nbsp;</i>Home</h3></a></li><li><a href=https://blakeniemyjski.com/categories/review/><h3><i class="fa fa-book">&nbsp;</i>Reviews</h3></a></li><li><a href=https://blakeniemyjski.com/categories/public-speaking/><h3><i class="fa fa-commenting-o">&nbsp;</i>Public Speaking</h3></a></li><li><a href=https://blakeniemyjski.com/categories/programming/><h3><i class="fa fa-code">&nbsp;</i>Programming</h3></a></li><li><a href=https://blakeniemyjski.com/about/><h3><i class="fa fa-id-card-o">&nbsp;</i>About</h3></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Recent Posts</h3></header><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/public-speaking/speaking-at-bam/>Speaking at BAM</a></h3><time class=published datetime=2019-02-19>February 19, 2019</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/public-speaking/speaking-at-central-wisconsin-it-conference/>Speaking at Central Wisconsin It Conference</a></h3><time class=published datetime=2018-10-04>October 4, 2018</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/public-speaking/speaking-at-the-northeast-wisconsin-code-camp/>Speaking at Northeast Wisconsin Code Camp</a></h3><time class=published datetime=2018-03-22>March 22, 2018</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/public-speaking/speaking-at-milwaukee-code-camp/>Speaking at Milwaukee Code Camp</a></h3><time class=published datetime=2017-11-11>November 11, 2017</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/public-speaking/speaking-at-the-north-dallas-net-user-group/>Speaking at North Dallas .NET User Group</a></h3><time class=published datetime=2017-05-01>May 1, 2017</time></header></article><a href=/categories/ class=button>View more posts</a></div></section></section><section id=share-menu><section id=social-share-nav><ul class=links><header><h3>Share this post <i class="fa fa-smile-o"></i></h3></header><li><a href="//twitter.com/share?url=https%3a%2f%2fblakeniemyjski.com%2fprogramming%2fhow-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration%2f&text=How-to%3a%20Use%20partial%20methods%20to%20preserve%20custom%20CSLA%20code%20and%20promote%20active%20regeneration.&via=blaken" target=_blank class="share-btn twitter"><i class="fa fa-twitter"></i><p>Twitter</p></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblakeniemyjski.com%2fprogramming%2fhow-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration%2f" target=_blank class="share-btn facebook"><i class="fa fa-facebook"></i><p>Facebook</p></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fblakeniemyjski.com%2fprogramming%2fhow-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration%2f&title=How-to%3a%20Use%20partial%20methods%20to%20preserve%20custom%20CSLA%20code%20and%20promote%20active%20regeneration." target=_blank class="share-btn reddit"><i class="fa fa-reddit-alien"></i><p>Reddit</p></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fblakeniemyjski.com%2fprogramming%2fhow-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration%2f&title=How-to%3a%20Use%20partial%20methods%20to%20preserve%20custom%20CSLA%20code%20and%20promote%20active%20regeneration." target=_blank class="share-btn linkedin"><i class="fa fa-linkedin"></i><p>LinkedIn</p></a></li><li><a href="mailto:?subject=Check out this post by &body=https%3a%2f%2fblakeniemyjski.com%2fprogramming%2fhow-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration%2f" target=_blank class="share-btn email"><i class="fa fa-envelope"></i><p>Email</p></a></li></ul></section></section><div id=main><article class=post><header><div class=title><h1><a href=https://blakeniemyjski.com/programming/how-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration/>How-to: Use partial methods to preserve custom CSLA code and promote active regeneration.</a></h1></div><div class=meta><time class=published datetime=2010-07-29>July 29, 2010</time>
<span class=author></span><p>5 minute read</p></div></header><section id=social-share><ul class=icons><li><a href="//twitter.com/share?url=https%3a%2f%2fblakeniemyjski.com%2fprogramming%2fhow-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration%2f&text=How-to%3a%20Use%20partial%20methods%20to%20preserve%20custom%20CSLA%20code%20and%20promote%20active%20regeneration.&via=blaken" target=_blank class="share-btn twitter"><i class="fa fa-twitter"></i><p>Twitter</p></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblakeniemyjski.com%2fprogramming%2fhow-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration%2f" target=_blank class="share-btn facebook"><i class="fa fa-facebook"></i><p>Facebook</p></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fblakeniemyjski.com%2fprogramming%2fhow-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration%2f&title=How-to%3a%20Use%20partial%20methods%20to%20preserve%20custom%20CSLA%20code%20and%20promote%20active%20regeneration." target=_blank class="share-btn reddit"><i class="fa fa-reddit-alien"></i><p>Reddit</p></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fblakeniemyjski.com%2fprogramming%2fhow-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration%2f&title=How-to%3a%20Use%20partial%20methods%20to%20preserve%20custom%20CSLA%20code%20and%20promote%20active%20regeneration." target=_blank class="share-btn linkedin"><i class="fa fa-linkedin"></i><p>LinkedIn</p></a></li><li><a href="mailto:?subject=Check out this post by &body=https%3a%2f%2fblakeniemyjski.com%2fprogramming%2fhow-to-use-partial-methods-to-preserve-custom-csla-code-and-promote-active-regeneration%2f" target=_blank class="share-btn email"><i class="fa fa-envelope"></i><p>Email</p></a></li></ul></section><div id=content><p>One of the best features of code generation is the reality of being able to
actively generate you code while preserving custom changes. This allows you to
implement custom logic while constantly making changes to your metadata and
getting the latest template changes. <a href=http://www.codesmithtools.com/product/generator>CodeSmith Generator</a>
has worked hard on making this happen in both the <a href=http://plinqo.com/>PLINQO</a>
and <a href=http://www.codesmithtools.com/product/frameworks#csla>CSLA Templates</a>.
The CSLA templates offer many partial method overrides to make your life easier.
It is recommended that you place any partial methods that you implement in the
non-generated partial class; this is always the ClassName.cs or ClassName.vb
source code file.</p><p>A list of partial methods can be found at the bottom of the every generated
partial class. Here is an example of the generated partial methods.</p><h4 id=c>C#</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=color:#75715e>#region DataPortal partial methods
</span><span style=color:#75715e></span><span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>void</span> OnCreating(<span style=color:#66d9ef>ref</span> <span style=color:#66d9ef>bool</span> cancel);
<span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>void</span> OnCreated();
<span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>void</span> OnFetching(CalendarCriteria criteria, <span style=color:#66d9ef>ref</span> <span style=color:#66d9ef>bool</span> cancel);
<span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>void</span> OnFetched();
<span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>void</span> OnMapping(SafeDataReader reader, <span style=color:#66d9ef>ref</span> <span style=color:#66d9ef>bool</span> cancel);
<span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>void</span> OnMapped();
<span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>void</span> OnUpdating(<span style=color:#66d9ef>ref</span> <span style=color:#66d9ef>bool</span> cancel);
<span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>void</span> OnUpdated();
<span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>void</span> OnAddNewCore(<span style=color:#66d9ef>ref</span> Calendar item, <span style=color:#66d9ef>ref</span> <span style=color:#66d9ef>bool</span> cancel);
<span style=color:#75715e>#endregion
</span></code></pre></div><h4 id=visual-basic>Visual Basic</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=color:#75715e>#Region &#34;DataPortal partial methods&#34;
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>Partial</span> <span style=color:#66d9ef>Private</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>OnCreating</span>(<span style=color:#66d9ef>ByRef</span> cancel <span style=color:#f92672>As</span> <span style=color:#66d9ef>Boolean</span>)
<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>

<span style=color:#66d9ef>Partial</span> <span style=color:#66d9ef>Private</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>OnCreated</span>()
<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>

<span style=color:#66d9ef>Partial</span> <span style=color:#66d9ef>Private</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>OnFetching</span>(<span style=color:#66d9ef>ByVal</span> criteria <span style=color:#f92672>As</span> CalendarCriteria, <span style=color:#66d9ef>ByRef</span> cancel <span style=color:#f92672>As</span> <span style=color:#66d9ef>Boolean</span>)
<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>

<span style=color:#66d9ef>Partial</span> <span style=color:#66d9ef>Private</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>OnFetched</span>()
<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>

<span style=color:#66d9ef>Partial</span> <span style=color:#66d9ef>Private</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>OnMapping</span>(<span style=color:#66d9ef>ByVal</span> reader <span style=color:#f92672>As</span> SafeDataReader, <span style=color:#66d9ef>ByRef</span> cancel <span style=color:#f92672>As</span> <span style=color:#66d9ef>Boolean</span>)
<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>

<span style=color:#66d9ef>Partial</span> <span style=color:#66d9ef>Private</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>OnMapped</span>()
<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>

<span style=color:#66d9ef>Partial</span> <span style=color:#66d9ef>Private</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>OnUpdating</span>(<span style=color:#66d9ef>ByRef</span> cancel <span style=color:#f92672>As</span> <span style=color:#66d9ef>Boolean</span>)
<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>

<span style=color:#66d9ef>Partial</span> <span style=color:#66d9ef>Private</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>OnUpdated</span>()
<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>

<span style=color:#66d9ef>Partial</span> <span style=color:#66d9ef>Private</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>OnAddNewCore</span>(<span style=color:#66d9ef>ByVal</span> item <span style=color:#f92672>As</span> Calendar, <span style=color:#66d9ef>ByRef</span> cancel <span style=color:#f92672>As</span> <span style=color:#66d9ef>Boolean</span>)
<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>

<span style=color:#75715e>#End Region</span>
</code></pre></div><p>In this example we will take an EditableRootList called CalendarList, whose
purpose is to hold a list of Calendar business objects. The default generated
code will select all calendar entries with a specific criterion. The code below
is the code that is generated in the CalendarList.DataAccess partial class:</p><h4 id=c-1>C#</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> DataPortal_Fetch(CalendarCriteria criteria)
{
    <span style=color:#66d9ef>bool</span> cancel = <span style=color:#66d9ef>false</span>;
    OnFetching(criteria, <span style=color:#66d9ef>ref</span> cancel);
    <span style=color:#66d9ef>if</span> (cancel) <span style=color:#66d9ef>return</span>;

    RaiseListChangedEvents = <span style=color:#66d9ef>false</span>;

    <span style=color:#75715e>// Fetch Child objects.
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>string</span> commandText = String.Format(<span style=color:#e6db74>&#34;SELECT [ID], [CalendarName], [Name], [EventStart], [EventEnd], [Resource] FROM [dbo].[Calendar] {0}&#34;</span>, ADOHelper.BuildWhereStatement(criteria.StateBag));
    <span style=color:#66d9ef>using</span> (SqlConnection connection = <span style=color:#66d9ef>new</span> SqlConnection(ADOHelper.ConnectionString))
    {
        connection.Open();
        <span style=color:#66d9ef>using</span> (SqlCommand command = <span style=color:#66d9ef>new</span> SqlCommand(commandText, connection))
        {
            command.Parameters.AddRange(ADOHelper.SqlParameters(criteria.StateBag));

            using(<span style=color:#66d9ef>var</span> reader = <span style=color:#66d9ef>new</span> SafeDataReader(command.ExecuteReader()))
            {
                <span style=color:#66d9ef>if</span>(reader.Read())
                {
                    <span style=color:#66d9ef>do</span>
                    {
                        <span style=color:#66d9ef>this</span>.Add(<span style=color:#66d9ef>new</span> Calendar(reader));
                    } <span style=color:#66d9ef>while</span>(reader.Read());
                }
            }
        }
    }

    RaiseListChangedEvents = <span style=color:#66d9ef>true</span>;

    OnFetched();
}
</code></pre></div><h4 id=visual-basic-1>Visual Basic</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=color:#66d9ef>Private</span> <span style=color:#66d9ef>Shadows</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>DataPortal_Fetch</span>(<span style=color:#66d9ef>ByVal</span> criteria <span style=color:#f92672>As</span> CalendarCriteria)
    <span style=color:#66d9ef>Dim</span> cancel <span style=color:#f92672>As</span> <span style=color:#66d9ef>Boolean</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
    OnFetching(criteria, cancel)
    <span style=color:#66d9ef>If</span> (cancel) <span style=color:#66d9ef>Then</span>
        <span style=color:#66d9ef>Return</span>
    <span style=color:#66d9ef>End</span> <span style=color:#66d9ef>If</span>

    RaiseListChangedEvents <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>

    <span style=color:#75715e>&#39; Fetch Child objects.
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>Dim</span> commandText <span style=color:#f92672>As</span> <span style=color:#66d9ef>String</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>String</span>.Format(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>SELECT [ID], [CalendarName], [Name], [EventStart], [EventEnd], [Resource] FROM [dbo].[Calendar] {0}</span><span style=color:#e6db74>&#34;</span>, ADOHelper.BuildWhereStatement(criteria.StateBag))
    <span style=color:#66d9ef>Using</span> connection <span style=color:#f92672>As</span> <span style=color:#66d9ef>New</span> SqlConnection(ADOHelper.ConnectionString)
        connection.Open()
        <span style=color:#66d9ef>Using</span> command <span style=color:#f92672>As</span> <span style=color:#66d9ef>New</span> SqlCommand(commandText, connection)
            command.Parameters.AddRange(ADOHelper.SqlParameters(criteria.StateBag))
            <span style=color:#66d9ef>Using</span> reader <span style=color:#f92672>As</span> SafeDataReader <span style=color:#f92672>=</span> <span style=color:#66d9ef>New</span> SafeDataReader(command.ExecuteReader())
                <span style=color:#66d9ef>If</span> reader.Read() <span style=color:#66d9ef>Then</span>
                    <span style=color:#66d9ef>Do</span>
                        <span style=color:#66d9ef>Me</span>.Add(<span style=color:#66d9ef>New</span> Calendar(reader))
                    <span style=color:#66d9ef>Loop</span> <span style=color:#66d9ef>While</span> reader.Read()
                <span style=color:#66d9ef>End</span> <span style=color:#66d9ef>If</span>
            <span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Using</span>
        <span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Using</span>
    <span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Using</span>

    RaiseListChangedEvents <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>

    OnFetched()
<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>
</code></pre></div><p>As you can see that this isn&rsquo;t optimal because we only want to select all
Calendar entries from the first of the current month. In the real word we would
only want to select maybe a month of two or data&mldr; This can easily be done by
overriding the partial method and modifying the sql statement. We will now go
to the partial non generated class (CalendarList.cs or CalendarList.vb):</p><h4 id=c-2>C#</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=color:#75715e>#region Custom Data Access
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>void</span> OnFetching(CalendarCriteria criteria, <span style=color:#66d9ef>ref</span> <span style=color:#66d9ef>bool</span> cancel)
{
    RaiseListChangedEvents = <span style=color:#66d9ef>false</span>;

    <span style=color:#75715e>// Fetch Child objects.
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>string</span> commandText = String.Format(<span style=color:#e6db74>&#34;SELECT [ID], [CalendarName], [Name], [EventStart], [EventEnd], [Resource] FROM [dbo].[Calendar] {0} AND [EventStart] &gt;= CONVERT(varchar,DATEADD(MONTH,DATEDIFF(MONTH,0,GETDATE()),0),101)&#34;</span>, ADOHelper.BuildWhereStatement(criteria.StateBag));
    <span style=color:#66d9ef>using</span> (SqlConnection connection = <span style=color:#66d9ef>new</span> SqlConnection(ADOHelper.ConnectionString))
    {
        connection.Open();
        <span style=color:#66d9ef>using</span> (SqlCommand command = <span style=color:#66d9ef>new</span> SqlCommand(commandText, connection))
        {
            command.Parameters.AddRange(ADOHelper.SqlParameters(criteria.StateBag));

            <span style=color:#66d9ef>using</span> (<span style=color:#66d9ef>var</span> reader = <span style=color:#66d9ef>new</span> SafeDataReader(command.ExecuteReader()))
            {
                <span style=color:#66d9ef>if</span> (reader.Read())
                {
                    <span style=color:#66d9ef>do</span>
                    {
                        <span style=color:#66d9ef>this</span>.Add(<span style=color:#66d9ef>new</span> Calendar(reader));
                    } <span style=color:#66d9ef>while</span> (reader.Read());
                }
            }
        }
    }

    RaiseListChangedEvents = <span style=color:#66d9ef>true</span>;

    <span style=color:#75715e>// Cancel the existing Dal method.
</span><span style=color:#75715e></span>    cancel = <span style=color:#66d9ef>true</span>;
}
</code></pre></div><h4 id=visual-basic-2>Visual Basic</h4><p>#Region &ldquo;Custom Data Access&rdquo;</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vb data-lang=vb><span style=color:#75715e>#Region &#34;Custom Data Access&#34;
</span><span style=color:#75715e></span><span style=color:#66d9ef>Private</span> <span style=color:#66d9ef>Sub</span> <span style=color:#a6e22e>OnFetching</span>(<span style=color:#66d9ef>ByVal</span> criteria <span style=color:#f92672>As</span> CategoryCriteria, <span style=color:#66d9ef>ByRef</span> cancel <span style=color:#f92672>As</span> <span style=color:#66d9ef>Boolean</span>)
    RaiseListChangedEvents <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>

    <span style=color:#75715e>&#39; Fetch Child objects.
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>Dim</span> commandText <span style=color:#f92672>As</span> <span style=color:#66d9ef>String</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>String</span>.Format(<span style=color:#e6db74>&#34;</span><span style=color:#e6db74>SELECT [ID], [CalendarName], [Name], [EventStart], [EventEnd], [Resource] FROM [dbo].[Calendar] {0} AND [EventStart] &gt;= CONVERT(varchar,DATEADD(MONTH,DATEDIFF(MONTH,0,GETDATE()),0),101)</span><span style=color:#e6db74>&#34;</span>, ADOHelper.BuildWhereStatement(criteria.StateBag))
    <span style=color:#66d9ef>Using</span> connection <span style=color:#f92672>As</span> <span style=color:#66d9ef>New</span> SqlConnection(ADOHelper.ConnectionString)
        connection.Open()
        <span style=color:#66d9ef>Using</span> command <span style=color:#f92672>As</span> <span style=color:#66d9ef>New</span> SqlCommand(commandText, connection)
            command.Parameters.AddRange(ADOHelper.SqlParameters(criteria.StateBag))
            <span style=color:#66d9ef>Using</span> reader <span style=color:#f92672>As</span> SafeDataReader <span style=color:#f92672>=</span> <span style=color:#66d9ef>New</span> SafeDataReader(command.ExecuteReader())
                <span style=color:#66d9ef>If</span> reader.Read() <span style=color:#66d9ef>Then</span>
                    <span style=color:#66d9ef>Do</span>
                        <span style=color:#66d9ef>Me</span>.Add(<span style=color:#66d9ef>New</span> Calendar(reader))
                    <span style=color:#66d9ef>Loop</span> <span style=color:#66d9ef>While</span> reader.Read()
                <span style=color:#66d9ef>End</span> <span style=color:#66d9ef>If</span>
            <span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Using</span>
        <span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Using</span>
    <span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Using</span>

    RaiseListChangedEvents <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>

    <span style=color:#75715e>&#39;Cancel the existing Dal method.
</span><span style=color:#75715e></span>    cancel <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
<span style=color:#66d9ef>End</span> <span style=color:#66d9ef>Sub</span>
<span style=color:#75715e>#End Region</span>
</code></pre></div><p>As you can see all we needed to do was implement the OnFetching partial method
and override the sql query that was then sent to the database server. You can
do anything you want in this partial method. The last thing to do is set the
reference cancel variable to true if you wish to have everything after the
partial method call ignored. If you set this to false then the existing
generated code will also run. In this case, we want to cancel out. A scenario
where you would want to return false, is if you wanted to do some processing
before accessing the database.</p><p>If you come across something that you wish had a partial method, please log it
on the <a href=http://code.google.com/p/codesmith/issues/list>CodeSmith template issue tracker</a>.</p></div><footer><ul class=stats><li class=categories><ul><i class="fa fa-folder"></i><li><a class=article-category-link href=https://blakeniemyjski.com/categories/programming>Programming</a></li></ul></li><li class=tags><ul><i class="fa fa-tags"></i><li><a class=article-category-link href=https://blakeniemyjski.com/tags/csla>CSLA</a></li></ul></li></ul></footer></article><article class=post><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"shortname"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article><ul class="actions pagination"><li><a href=https://blakeniemyjski.com/programming/how-to-preserve-column-names-in-generated-plinqo-entities/ class="button big previous">How-to: Preserve column names in generated PLINQO entities.</a></li><li><a href=https://blakeniemyjski.com/programming/how-to-use-a-stored-procedure-extended-property-to-preserve-custom-logic-in-generated-csla-code/ class="button big next">How-to: Use a Stored Procedure extended property to preserve custom logic
in generated CSLA code.</a></li></ul></div><section id=sidebar><section id=intro><a href=https://blakeniemyjski.com/><img src=https://blakeniemyjski.com/img/logo.jpeg class=intro-circle width=250 alt="Blake Niemyjski"></a><header><h2>Blake Niemyjski</h2><p>Passionate about building software</p></header><ul class=icons><li><a href=https://blakeniemyjski.com/index.xml type=application/rss+xml target=_blank title=RSS class="fa fa-rss"></a></li><li><a href=//github.com/niemyjski target=_blank title=GitHub class="fa fa-github"></a></li><li><a href=//stackoverflow.com/users/199701 target=_blank title="Stack Overflow" class="fa fa-stack-overflow"></a></li><li><a href=//linkedin.com/in/niemyjski target=_blank title=LinkedIn class="fa fa-linkedin"></a></li><li><a href=//reddit.com/user/bniemyjski target=_blank title=Reddit class="fa fa-reddit"></a></li><li><a href=//youtube.com/bniemyjski target=_blank title=YouTube class="fa fa-youtube"></a></li><li><a href=//twitter.com/blaken target=_blank title=Twitter class="fa fa-twitter"></a></li><li><a href=mailto:bniemyjski@gmail.com title=Email class="fa fa-envelope"></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Recent Posts</h3></header><div class=posts-container><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/public-speaking/speaking-at-bam/>Speaking at BAM</a></h3><time class=published datetime=2019-02-19>February 19, 2019</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/public-speaking/speaking-at-central-wisconsin-it-conference/>Speaking at Central Wisconsin It Conference</a></h3><time class=published datetime=2018-10-04>October 4, 2018</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/public-speaking/speaking-at-the-northeast-wisconsin-code-camp/>Speaking at Northeast Wisconsin Code Camp</a></h3><time class=published datetime=2018-03-22>March 22, 2018</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/public-speaking/speaking-at-milwaukee-code-camp/>Speaking at Milwaukee Code Camp</a></h3><time class=published datetime=2017-11-11>November 11, 2017</time></header></article><article class=mini-post><header><h3><a href=https://blakeniemyjski.com/public-speaking/speaking-at-the-north-dallas-net-user-group/>Speaking at North Dallas .NET User Group</a></h3><time class=published datetime=2017-05-01>May 1, 2017</time></header></article></div><a href=/categories/ class=button>View more posts</a></div></section><section id=mini-bio><h3>About</h3><p>Blake Niemyjski is a full time open source software architect and private pilot. Since the late 90's, Blake's curiosity has been focused around developing software that helps the masses. As a hobbyist developer turned student and professional, Blake's passion is to further his knowledge and create technologies for the future.</p><a href=https://blakeniemyjski.com/about/ class=button>Learn More</a></section><section id=footer><p class=copyright>&copy; 2019
Blake Niemyjski
.
Powered by <a href=//gohugo.io target=_blank>Hugo</a></p></section></section></div><a id=back-to-top href=# class="fa fa-arrow-up fa-border fa-2x"></a><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script>hljs.configure({languages:[]});hljs.initHighlightingOnLoad();</script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js></script><script src=https://blakeniemyjski.com/js/util.js></script><script src=https://blakeniemyjski.com/js/main.js></script><script src=https://blakeniemyjski.com/js/backToTop.js></script><script>hljs.initHighlightingOnLoad();</script><script src=https://blakeniemyjski.com/js/math-code.js></script><script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>